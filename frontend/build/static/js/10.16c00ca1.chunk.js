(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[10],{156:function(e,t,a){"use strict";var n=a(115),r=a(125),c=Object(n.a)((function(e){return Object(r.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},marginedTop:{marginTop:e.spacing(2)}})}));t.a=c},163:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(25),i=a(0),o=(a(4),a(3)),s=a(5),l=a(6),u=i.forwardRef((function(e,t){var a=e.classes,c=e.className,s=e.component,u=void 0===s?"div":s,m=e.disableGutters,d=void 0!==m&&m,p=e.fixed,f=void 0!==p&&p,b=e.maxWidth,v=void 0===b?"lg":b,g=Object(r.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return i.createElement(u,Object(n.a)({className:Object(o.a)(a.root,c,f&&a.fixed,d&&a.disableGutters,!1!==v&&a["maxWidth".concat(Object(l.a)(String(v)))]),ref:t},g))}));t.a=Object(s.a)((function(e){return{root:Object(c.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,a){var n=e.breakpoints.values[a];return 0!==n&&(t[e.breakpoints.up(a)]={maxWidth:n}),t}),{}),maxWidthXs:Object(c.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(c.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(c.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(c.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(c.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(u)},173:function(e,t,a){"use strict";var n=a(33);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(36)).default)(r.default.createElement("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");t.default=c},241:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return T}));var n=a(64),r=a(37),c=a(13),i=a(9),o=a(0),s=a.n(o),l=a(32),u=a(163),m=a(55),d=a(46),p=a(196),f=a(92),b=a(148),v=a(222),g=a(217),h=a(219),j=a(1),O=a(2),x=(a(4),a(3)),E=a(5),k=o.forwardRef((function(e,t){var a=e.classes,n=e.className,r=e.row,c=void 0!==r&&r,i=Object(O.a)(e,["classes","className","row"]);return o.createElement("div",Object(j.a)({className:Object(x.a)(a.root,n,c&&a.row),ref:t},i))})),y=Object(E.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(k),W=a(225),C=a(238),w=a(221),R=a(173),I=a.n(R),N=a(47),S=a(18),D=a(156),L=a(48),_=a(63),M=a(34),A={roleId:"_",name:"",description:"",resolvers:[]},B={name:!1,description:!1,resolvers:!1},G="{\n  roleId: _id\n  name\n  description\n  resolvers\n}";function T(){var e=Object(D.a)(),t=Object(o.useState)(A),a=Object(i.a)(t,2),j=a[0],O=a[1],x=Object(N.a)(A),E=x.data,k=x.flag,R=x.errors,T=x.fetchData,q=Object(N.a)([]),z=q.data,F=q.errors,J=q.fetchData,P=Object(o.useState)("input"),X=Object(i.a)(P,2),U=X[0],H=X[1],K=Object(o.useState)(B),Q=Object(i.a)(K,2),V=Q[0],Y=Q[1],Z=Object(o.useRef)(!1),$=Object(l.f)(),ee=Object(l.g)().id;function te(e){return function(t){O(Object(c.a)({},j,Object(r.a)({},e,t.target.value)))}}function ae(e){return j.resolvers.includes(e)}return Object(o.useEffect)((function(){Z.current||(ee?(J({expression:"query {\n          resolvers\n        }",isAuth:!0}),"_"!==ee&&T({expression:'query{\n            roleResponse: roleById(id:"'.concat(ee,'") ').concat(G,"\n          }"),isAuth:!0,flag:"get"})):$.push("/roles"))}),[ee,J,$,T]),Object(o.useEffect)((function(){var e={name:j.name.length<3,description:j.description.length<6,resolvers:0===j.resolvers.length};Y(e)}),[j.name,j.description,j.resolvers.length]),Object(L.a)((function(){if("save"===U){var e=j.roleId,t=j.name,a=j.description,n=j.resolvers,r="_"===e?"roleCreate(":'roleUpdate(id: "'.concat(e,'", '),c="mutation {\n        roleResponse: ".concat(r,'roleInput: {\n          name: "').concat(t,'",\n          description: "').concat(a,'",\n          resolvers: ["').concat(n.join('", "'),'"]\n        })').concat(G,"\n      }");T({expression:c,isAuth:!0,flag:"_"===e?"create":"update"}),H("sending")}}),[U,j,T]),Object(L.a)((function(){E&&(O(Object(c.a)({},E)),["create","update"].includes(k)&&H("saved"),"create"===k&&$.replace("/role/".concat(E.roleId)))}),[E,k,$]),"sending"===U?s.a.createElement(u.a,null,s.a.createElement(m.a,{container:!0,justify:"center"},s.a.createElement(m.a,{item:!0,xs:12},s.a.createElement(d.a,null,"Saving Role's data")),s.a.createElement(m.a,{item:!0,xs:12},s.a.createElement(p.a,null)))):s.a.createElement(u.a,null,s.a.createElement(f.a,{m:1},s.a.createElement(b.a,{variant:"text",color:"primary",size:"small",startIcon:s.a.createElement(I.a,null),onClick:function(){return $.push("/roles")}},"Return to list")),s.a.createElement(_.a,{severity:"success",isOpen:"saved"===U,closeFn:function(){return H("input")},title:"Role saved",body:"Data of role "+j.name+" was successfully saved on DataBase"}),s.a.createElement(S.a,{errors:[R,F]}),s.a.createElement(f.a,{m:2},s.a.createElement(d.a,{variant:"h6",gutterBottom:!0},"Role details"),s.a.createElement(m.a,{container:!0,spacing:3},s.a.createElement(m.a,{item:!0,xs:12,sm:6},s.a.createElement(v.a,{required:!0,name:"name",label:"Name",value:j.name,fullWidth:!0,autoComplete:"name",onChange:te("name"),error:V.name,helperText:V.name&&"Put a valid name"})),s.a.createElement(m.a,{item:!0,xs:12,sm:6},s.a.createElement(v.a,{required:!0,name:"description",label:"Description",fullWidth:!0,autoComplete:"description",value:j.description,onChange:te("description"),error:V.description,helperText:V.description&&"Invalid description"})),s.a.createElement(g.a,{component:"fieldset"},s.a.createElement(h.a,{component:"legend"},"Assign responsibility"),s.a.createElement(y,null,s.a.createElement(m.a,{container:!0},z&&z.map((function(e){return s.a.createElement(m.a,{item:!0,xs:6,md:4,lg:3,key:Object(M.a)(e,10)},s.a.createElement(W.a,{control:s.a.createElement(C.a,{checked:ae(e),onChange:(t=e,function(e){var a=e.target.checked?[].concat(Object(n.a)(j.resolvers),[t]):j.resolvers.filter((function(e){return e!==t}));O((function(e){return Object(c.a)({},e,{resolvers:a})}))}),name:e}),label:e}));var t})))),s.a.createElement(w.a,null,"Be careful")),s.a.createElement(m.a,{item:!0,xs:12},s.a.createElement(f.a,{display:"flex",justifyContent:"flex-end"},s.a.createElement(g.a,{className:e.formControl},s.a.createElement(b.a,{variant:"contained",onClick:function(){E&&O(Object(c.a)({},E))}},"Cancel")),s.a.createElement(g.a,{className:e.formControl},s.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){if(Object.values(V).some((function(e){return e})))return!1;H("save")}},"Save")))))))}}}]);
//# sourceMappingURL=10.16c00ca1.chunk.js.map