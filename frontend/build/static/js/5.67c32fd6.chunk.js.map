{"version":3,"sources":["utils/use-form-styles.tsx","../node_modules/@material-ui/core/esm/Container/Container.js","../node_modules/email-validator/index.js","components/PasswordInput.tsx","../node_modules/@material-ui/icons/Visibility.js","../node_modules/@material-ui/icons/VisibilityOff.js","../node_modules/@material-ui/icons/ArrowBackIos.js","../node_modules/@material-ui/core/esm/InputAdornment/InputAdornment.js","../node_modules/@material-ui/core/esm/MenuItem/MenuItem.js","components/UserEdit.tsx"],"names":["useFormStyles","makeStyles","theme","createStyles","formControl","margin","spacing","minWidth","selectEmpty","marginTop","marginedTop","Container","React","props","ref","classes","className","_props$component","component","Component","_props$disableGutters","disableGutters","_props$fixed","fixed","_props$maxWidth","maxWidth","other","_objectWithoutProperties","_extends","clsx","root","concat","capitalize","String","withStyles","_defineProperty","width","marginLeft","boxSizing","marginRight","paddingLeft","paddingRight","display","breakpoints","up","Object","keys","values","reduce","acc","breakpoint","value","maxWidthXs","Math","max","xs","maxWidthSm","sm","maxWidthMd","md","maxWidthLg","lg","maxWidthXl","xl","name","tester","exports","validate","email","length","test","parts","split","some","part","PasswordInput","onChange","fieldId","label","validation","original","useState","setValue","missing","setMissing","showPassword","setShowPassword","useEffectDeep","fullWidth","htmlFor","id","type","event","nongood","push","invalidRules","forEach","rule","isEqual","target","error","endAdornment","position","aria-label","onClick","prev","onMouseDown","preventDefault","dense","map","key","keyGenerate","primary","_interopRequireDefault","require","defineProperty","default","_react","_default","createElement","d","InputAdornment","children","_props$disablePointer","disablePointerEvents","_props$disableTypogra","disableTypography","variantProp","variant","muiFormControl","useFormControl","FormControlContext","Provider","hiddenLabel","filled","positionStart","positionEnd","marginDense","Typography","color","height","maxHeight","alignItems","whiteSpace","pointerEvents","MenuItem","tabIndex","ListItemClasses","_props$role","role","selected","tabIndexProp","disabled","undefined","ListItem","button","gutters","typography","body1","minHeight","paddingTop","paddingBottom","overflow","body2","newData","userId","roles","newStateWithPass","password","passwordRepeat","MenuProps","PaperProps","style","ITEM_HEIGHT","errorInputs","rtrnAPI","UserEdit","formClasses","info","setInfo","changePass","setChangePass","useGraphQL","data","errors","flag","fetchData","rolesData","rolesErrors","fetchRolesData","status","setStatus","inputError","setInputError","passError","useRef","history","useHistory","useParams","mounted","handleText","field","evt","handlePassChange","hasError","current","useEffect","expression","isAuth","resolver","hasPass","join","includes","roleId","replace","container","justify","item","m","size","startIcon","severity","isOpen","closeFn","title","body","message","gutterBottom","required","autoComplete","helperText","multiple","input","renderValue","Array","isArray","filter","checked","secondary","description","control","inputProps","justifyContent","ierr"],"mappings":"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","file":"static/js/5.67c32fd6.chunk.js","sourcesContent":["import { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\n\nconst useFormStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120,\n    },\n    selectEmpty: {\n      marginTop: theme.spacing(2),\n    },\n    marginedTop: {\n      marginTop: theme.spacing(2),\n    }\n  })\n);\n\nexport default useFormStyles;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _defineProperty({\n      width: '100%',\n      marginLeft: 'auto',\n      boxSizing: 'border-box',\n      marginRight: 'auto',\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      display: 'block'\n    }, theme.breakpoints.up('sm'), {\n      paddingLeft: theme.spacing(3),\n      paddingRight: theme.spacing(3)\n    }),\n\n    /* Styles applied to the root element if `disableGutters={true}`. */\n    disableGutters: {\n      paddingLeft: 0,\n      paddingRight: 0\n    },\n\n    /* Styles applied to the root element if `fixed={true}`. */\n    fixed: Object.keys(theme.breakpoints.values).reduce(function (acc, breakpoint) {\n      var value = theme.breakpoints.values[breakpoint];\n\n      if (value !== 0) {\n        acc[theme.breakpoints.up(breakpoint)] = {\n          maxWidth: value\n        };\n      }\n\n      return acc;\n    }, {}),\n\n    /* Styles applied to the root element if `maxWidth=\"xs\"`. */\n    maxWidthXs: _defineProperty({}, theme.breakpoints.up('xs'), {\n      maxWidth: Math.max(theme.breakpoints.values.xs, 444)\n    }),\n\n    /* Styles applied to the root element if `maxWidth=\"sm\"`. */\n    maxWidthSm: _defineProperty({}, theme.breakpoints.up('sm'), {\n      maxWidth: theme.breakpoints.values.sm\n    }),\n\n    /* Styles applied to the root element if `maxWidth=\"md\"`. */\n    maxWidthMd: _defineProperty({}, theme.breakpoints.up('md'), {\n      maxWidth: theme.breakpoints.values.md\n    }),\n\n    /* Styles applied to the root element if `maxWidth=\"lg\"`. */\n    maxWidthLg: _defineProperty({}, theme.breakpoints.up('lg'), {\n      maxWidth: theme.breakpoints.values.lg\n    }),\n\n    /* Styles applied to the root element if `maxWidth=\"xl\"`. */\n    maxWidthXl: _defineProperty({}, theme.breakpoints.up('xl'), {\n      maxWidth: theme.breakpoints.values.xl\n    })\n  };\n};\nvar Container = React.forwardRef(function Container(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$fixed = props.fixed,\n      fixed = _props$fixed === void 0 ? false : _props$fixed,\n      _props$maxWidth = props.maxWidth,\n      maxWidth = _props$maxWidth === void 0 ? 'lg' : _props$maxWidth,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"disableGutters\", \"fixed\", \"maxWidth\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, fixed && classes.fixed, disableGutters && classes.disableGutters, maxWidth !== false && classes[\"maxWidth\".concat(capitalize(String(maxWidth)))]),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Container.propTypes = {\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * Set the max-width to match the min-width of the current breakpoint.\n   * This is useful if you'd prefer to design for a fixed set of sizes\n   * instead of trying to accommodate a fully fluid viewport.\n   * It's fluid by default.\n   */\n  fixed: PropTypes.bool,\n\n  /**\n   * Determine the max-width of the container.\n   * The container width grows with the size of the screen.\n   * Set to `false` to disable `maxWidth`.\n   */\n  maxWidth: PropTypes.oneOf(['xs', 'sm', 'md', 'lg', 'xl', false])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiContainer'\n})(Container);","\"use strict\";\r\n\r\nvar tester = /^[-!#$%&'*+\\/0-9=?A-Z^_a-z{|}~](\\.?[-!#$%&'*+\\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\\.?[a-zA-Z0-9])*\\.[a-zA-Z](-?[a-zA-Z0-9])+$/;\r\n// Thanks to:\r\n// http://fightingforalostcause.net/misc/2006/compare-email-regex.php\r\n// http://thedailywtf.com/Articles/Validating_Email_Addresses.aspx\r\n// http://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses/201378#201378\r\nexports.validate = function(email)\r\n{\r\n\tif (!email)\r\n\t\treturn false;\r\n\t\t\r\n\tif(email.length>254)\r\n\t\treturn false;\r\n\r\n\tvar valid = tester.test(email);\r\n\tif(!valid)\r\n\t\treturn false;\r\n\r\n\t// Further checking of some things regex can't handle\r\n\tvar parts = email.split(\"@\");\r\n\tif(parts[0].length>64)\r\n\t\treturn false;\r\n\r\n\tvar domainParts = parts[1].split(\".\");\r\n\tif(domainParts.some(function(part) { return part.length>63; }))\r\n\t\treturn false;\r\n\r\n\treturn true;\r\n}","import React, { useState, ChangeEvent, MouseEvent } from 'react';\nimport {\n  FormControl,\n  Input,\n  InputLabel,\n  InputAdornment,\n  IconButton,\n  FormHelperText,\n  List,\n  ListItem,\n  ListItemText\n} from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport {isEqual} from 'lodash';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport keyGenerate from '../utils/string';\nimport useEffectDeep from '../utils/use-effect-deep';\n\ntype PIPropsType = {\n  fieldId: string\n  onChange: (value: string, hasError: boolean) => void,\n  className?: string,\n  label?: string,\n  original?: string,\n  validation?: 'none' | 'rules' | 'repeat',\n}\n\n// TODO: abstract rules and share with back-end\nexport function invalidRules(value: string): string[] {\n  const nongood = [];\n  if (value.length < 5) nongood.push('Password should be longer than 4 characters');\n  if (!/\\d/.test(value)) nongood.push('Password must have at least one digit');\n  if (!/[a-z]/.test(value)) nongood.push('Password must have at least one lowercase character');\n  if (!/[A-Z]/.test(value)) nongood.push('Password must have at least one uppercase character');\n  return nongood;\n}\n\nexport default function PasswordInput(props: PIPropsType) {\n  const { className = '', onChange, fieldId, label = 'Password', validation = 'none', original } = props;\n  const [ value, setValue] = useState('');\n  const [ missing, setMissing] = useState<string[]>([]);\n  const [ showPassword, setShowPassword] = useState(false);\n\n  useEffectDeep(() => {\n    onChange(value, missing.length === 0);\n  }, [value, missing]);\n\n  function handleChange(event: ChangeEvent<HTMLInputElement>) {\n    const nongood: string[] = [];\n    switch(validation) {\n      case 'rules':\n        invalidRules(value).forEach(rule => nongood.push(rule));\n        break;\n      case 'repeat':\n        if (value !== original) nongood.push('Both password must be equals');\n        break;\n    }\n    if(!isEqual(nongood, missing)) {\n      setMissing(nongood);\n    }\n    setValue(event.target.value);\n  }\n\n  function handleClickShowPassword() {\n    setShowPassword((prev) => !prev);\n  };\n\n  function handleMouseDownPassword(event: MouseEvent<HTMLButtonElement>) {\n    event.preventDefault();\n  };\n\n  return (\n    <>\n      <FormControl className={className} fullWidth>\n        <InputLabel htmlFor={'adornment-password-' + fieldId}>{label}</InputLabel>\n        <Input\n          id={'adornment-password-' + fieldId}\n          type={showPassword ? 'text' : 'password'}\n          value={value}\n          onChange={handleChange}\n          error={missing.length > 0}\n          endAdornment={\n            <InputAdornment position=\"end\">\n              <IconButton\n                aria-label=\"toggle password visibility\"\n                onClick={handleClickShowPassword}\n                onMouseDown={handleMouseDownPassword}\n              >\n                {showPassword ? <Visibility /> : <VisibilityOff />}\n              </IconButton>\n            </InputAdornment>\n          }\n        />\n        {\n          missing.length > 0 && (\n            <FormHelperText id={'password-helper' + fieldId} error component=\"div\">\n              <List dense={true}>\n                {missing.map((rule) => (\n                  <ListItem key={keyGenerate(rule, 10)}>\n                    <ListItemText\n                      primary={rule}\n                    />\n                  </ListItem>\n                ))}\n              </List>\n            </FormHelperText>\n          )\n        }           \n      </FormControl>\n    </>\n  )\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n}), 'Visibility');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"\n}), 'VisibilityOff');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z\"\n}), 'ArrowBackIos');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Typography from '../Typography';\nimport withStyles from '../styles/withStyles';\nimport FormControlContext, { useFormControl } from '../FormControl/FormControlContext';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    height: '0.01em',\n    // Fix IE 11 flexbox alignment. To remove at some point.\n    maxHeight: '2em',\n    alignItems: 'center',\n    whiteSpace: 'nowrap'\n  },\n\n  /* Styles applied to the root element if `variant=\"filled\"`. */\n  filled: {\n    '&$positionStart:not($hiddenLabel)': {\n      marginTop: 16\n    }\n  },\n\n  /* Styles applied to the root element if `position=\"start\"`. */\n  positionStart: {\n    marginRight: 8\n  },\n\n  /* Styles applied to the root element if `position=\"end\"`. */\n  positionEnd: {\n    marginLeft: 8\n  },\n\n  /* Styles applied to the root element if `disablePointerEvents=true`. */\n  disablePointerEvents: {\n    pointerEvents: 'none'\n  },\n\n  /* Styles applied if the adornment is used inside <FormControl hiddenLabel />. */\n  hiddenLabel: {},\n\n  /* Styles applied if the adornment is used inside <FormControl margin=\"dense\" />. */\n  marginDense: {}\n};\nvar InputAdornment = React.forwardRef(function InputAdornment(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disablePointer = props.disablePointerEvents,\n      disablePointerEvents = _props$disablePointer === void 0 ? false : _props$disablePointer,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      position = props.position,\n      variantProp = props.variant,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"component\", \"disablePointerEvents\", \"disableTypography\", \"position\", \"variant\"]);\n\n  var muiFormControl = useFormControl() || {};\n  var variant = variantProp;\n\n  if (variantProp && muiFormControl.variant) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (variantProp === muiFormControl.variant) {\n        console.error('Material-UI: The `InputAdornment` variant infers the variant prop ' + 'you do not have to provide one.');\n      }\n    }\n  }\n\n  if (muiFormControl && !variant) {\n    variant = muiFormControl.variant;\n  }\n\n  return /*#__PURE__*/React.createElement(FormControlContext.Provider, {\n    value: null\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, disablePointerEvents && classes.disablePointerEvents, muiFormControl.hiddenLabel && classes.hiddenLabel, variant === 'filled' && classes.filled, {\n      'start': classes.positionStart,\n      'end': classes.positionEnd\n    }[position], muiFormControl.margin === 'dense' && classes.marginDense),\n    ref: ref\n  }, other), typeof children === 'string' && !disableTypography ? /*#__PURE__*/React.createElement(Typography, {\n    color: \"textSecondary\"\n  }, children) : children));\n});\nprocess.env.NODE_ENV !== \"production\" ? InputAdornment.propTypes = {\n  /**\n   * The content of the component, normally an `IconButton` or string.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Disable pointer events on the root.\n   * This allows for the content of the adornment to focus the input on click.\n   */\n  disablePointerEvents: PropTypes.bool,\n\n  /**\n   * If children is a string then disable wrapping in a Typography component.\n   */\n  disableTypography: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  muiFormControl: PropTypes.object,\n\n  /**\n   * The position this adornment should appear relative to the `Input`.\n   */\n  position: PropTypes.oneOf(['start', 'end']),\n\n  /**\n   * The variant to use.\n   * Note: If you are using the `TextField` component or the `FormControl` component\n   * you do not have to set this manually.\n   */\n  variant: PropTypes.oneOf(['standard', 'outlined', 'filled'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiInputAdornment'\n})(InputAdornment);","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ListItem from '../ListItem';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body1, _defineProperty({\n      minHeight: 48,\n      paddingTop: 6,\n      paddingBottom: 6,\n      boxSizing: 'border-box',\n      width: 'auto',\n      overflow: 'hidden',\n      whiteSpace: 'nowrap'\n    }, theme.breakpoints.up('sm'), {\n      minHeight: 'auto'\n    })),\n    // TODO v5: remove\n\n    /* Styles applied to the root element if `disableGutters={false}`. */\n    gutters: {},\n\n    /* Styles applied to the root element if `selected={true}`. */\n    selected: {},\n\n    /* Styles applied to the root element if dense. */\n    dense: _extends({}, theme.typography.body2, {\n      minHeight: 'auto'\n    })\n  };\n};\nvar MenuItem = React.forwardRef(function MenuItem(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      ListItemClasses = props.ListItemClasses,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'menuitem' : _props$role,\n      selected = props.selected,\n      tabIndexProp = props.tabIndex,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"disableGutters\", \"ListItemClasses\", \"role\", \"selected\", \"tabIndex\"]);\n\n  var tabIndex;\n\n  if (!props.disabled) {\n    tabIndex = tabIndexProp !== undefined ? tabIndexProp : -1;\n  }\n\n  return /*#__PURE__*/React.createElement(ListItem, _extends({\n    button: true,\n    role: role,\n    tabIndex: tabIndex,\n    component: component,\n    selected: selected,\n    disableGutters: disableGutters,\n    classes: _extends({\n      dense: classes.dense\n    }, ListItemClasses),\n    className: clsx(classes.root, className, selected && classes.selected, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? MenuItem.propTypes = {\n  /**\n   * Menu item contents.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input will be used.\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * `classes` prop applied to the [`ListItem`](/api/list-item/) element.\n   */\n  ListItemClasses: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.number\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiMenuItem'\n})(MenuItem);","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Button,\r\n  TextField,\r\n  FormControl,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Box,\r\n  Grid,\r\n  Typography,\r\n  Input,\r\n  Select,\r\n  MenuItem,\r\n  CircularProgress,\r\n  ListItemText,\r\n} from '@material-ui/core';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport { validate } from 'email-validator';\r\nimport useEffectDeep from '../utils/use-effect-deep';\r\nimport useGraphQL from '../utils/use-graphql';\r\nimport { BannerError } from '../globals/error-handling';\r\nimport useFormStyles from '../utils/use-form-styles';\r\nimport BannerAlert from './BannerAlert';\r\nimport PasswordInput from './PasswordInput';\r\nimport {Omit} from '../utils/types';\r\n\r\ntype UserType = {\r\n  userId: string,\r\n  name: string,\r\n  email: string,\r\n  roles: string[]  \r\n}\r\n\r\ntype UserDataType = Omit<UserType, 'roles'> & {\r\n  roles: {\r\n    roleId: string\r\n  }[]\r\n}\r\n\r\ntype UserStateType = UserType & {password: string, passwordRepeat: string };\r\n\r\ntype RoleType = {\r\n  roleId: string,\r\n  name: string,\r\n  description: string\r\n}\r\n\r\nconst newData: UserDataType = {\r\n  userId: '_',\r\n  name: '',\r\n  email: '',\r\n  roles: [],\r\n}\r\n\r\nconst newStateWithPass: UserStateType = {...newData, roles: [], password: '', passwordRepeat: ''};\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n\r\nconst errorInputs = {\r\n  name: false,\r\n  email: false,\r\n  roles: false,\r\n  password: false,\r\n  passwordRepeat: false\r\n};\r\n\r\nconst rtrnAPI = `{\r\n  userId: _id\r\n  name\r\n  email\r\n  roles {\r\n    roleId: _id\r\n  }\r\n}`;\r\n\r\nexport default function UserEdit() {\r\n  const formClasses = useFormStyles();\r\n  const [ info, setInfo ] = useState<UserStateType>(newStateWithPass);\r\n  const [ changePass, setChangePass ] = useState(info.userId === '_');\r\n  const { data, errors, flag, fetchData} = useGraphQL<UserDataType>(newData);\r\n  const { data: rolesData, errors: rolesErrors, fetchData: fetchRolesData }= useGraphQL<RoleType[]>([]);\r\n  const [ status, setStatus ] = useState('input');\r\n  const [ inputError, setInputError ] = useState(errorInputs);\r\n  const passError = useRef({password: false, passwordRepeat: false});\r\n  const history = useHistory();\r\n  const {id} = useParams();\r\n  const mounted = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!id) history.push('/users');\r\n    if(!mounted.current) {\r\n      fetchRolesData({ expression: `query {\r\n        roles {\r\n          roleId: _id\r\n          name\r\n          description\r\n        }\r\n      }`, isAuth: true});\r\n      if (id !== '_') {\r\n        fetchData({ expression: `query{\r\n          userResponse: userById(id:\"${id}\") ${rtrnAPI}\r\n        }`, isAuth: true, flag: 'get'});\r\n      }\r\n      mounted.current = true;\r\n    }\r\n\r\n  }, [fetchRolesData, history, fetchData, id]);\r\n\r\n  useEffectDeep(() => {\r\n    const {name, email, roles} = info;\r\n    const validation = {\r\n      name: name.length < 4,\r\n      email: !validate(email),\r\n      roles: roles.length === 0,\r\n      password: false,\r\n      passwordRepeat: false\r\n    };\r\n    if (changePass){\r\n      validation.password = passError.current.password;\r\n      validation.passwordRepeat = passError.current.passwordRepeat;\r\n    }\r\n    setInputError(validation); \r\n\r\n  }, [info, changePass]);\r\n\r\n  useEffectDeep(() => {\r\n    if (status === 'sending') {\r\n      const {userId, password, name, email, roles} = info;\r\n      const resolver = (userId === '_') ? 'userCreate(' : `userUpdate(id: \"${userId}\", `;\r\n      const hasPass = (changePass) ? `, password: \"${password}\"` : '';\r\n      const expression = `mutation {\r\n        userResponse: ${resolver}userInput: {\r\n          name: \"${name}\",\r\n          email: \"${email}\",\r\n          roles: [\"${roles.join('\", \"')}\"]\r\n          ${hasPass}\r\n        })${rtrnAPI}\r\n      }`;\r\n      const flag = (info.userId === '_') ? 'create' : 'update';\r\n      fetchData({expression, isAuth: true, flag});\r\n    }\r\n\r\n  }, [status, info, changePass, fetchData]);\r\n\r\n  useEffectDeep(() => {\r\n    if (!!data) {\r\n      if (['create', 'update'].includes(flag)) {\r\n        setInfo({\r\n          ...data,\r\n          roles: data.roles.map(role => role.roleId),\r\n          password: '',\r\n          passwordRepeat: ''\r\n        });\r\n        setStatus('saved');  \r\n      }\r\n      if(flag === 'create') {\r\n        history.replace(`/user/${data.userId}`);\r\n      }\r\n    } \r\n  }, [data, flag, history]);\r\n\r\n  function handleText(field: string) {\r\n    return (evt: React.ChangeEvent<HTMLInputElement>) => {\r\n      setInfo({...info, [field]: evt.target.value})\r\n    }\r\n  }\r\n\r\n  function handleCheckPass(event: React.ChangeEvent<HTMLInputElement>) {\r\n    setChangePass(event.target.checked);\r\n  }\r\n  function isRoleSelected(roleId: string): boolean {\r\n    return info.roles.includes(roleId);\r\n  }\r\n\r\n  function handleRolesChange(event: React.ChangeEvent<{ value: unknown }>){\r\n    const roles = (event.target.value as string[]);\r\n    setInfo({...info, roles});\r\n  }\r\n\r\n  function handlePassChange(name: 'password' | 'passwordRepeat') {\r\n    return (value: string, hasError: boolean) => {\r\n      passError.current[name] = hasError;\r\n      setInfo(prev => ({...prev, [name]: value}));\r\n    }\r\n  }\r\n\r\n  function saveUser() {\r\n    if (Object.values(inputError).some(ierr => ierr)) return false;\r\n    setStatus('sending');\r\n  }\r\n\r\n  function cancelEdit() {\r\n    if(!!data) {\r\n      setInfo({\r\n        ...data,\r\n        roles: data.roles.map(role => role.roleId),\r\n        password: '', \r\n        passwordRepeat: ''\r\n      });\r\n    }\r\n  }\r\n\r\n  if (status === 'sending') {\r\n    return (\r\n      <Container>  \r\n        <Grid container justify=\"center\">\r\n          <Grid item xs={12}>\r\n            <Typography>Saving User's data</Typography>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <CircularProgress />\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Box m={1}>\r\n        <Button\r\n          variant=\"text\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          startIcon={<ArrowBackIosIcon />}\r\n          onClick={() => history.push('/users')}\r\n        >\r\n          Return to list\r\n        </Button>        \r\n      </Box>\r\n      <BannerAlert\r\n        severity=\"success\"\r\n        isOpen={status === 'saved'}\r\n        closeFn={() => setStatus('input')}\r\n        title=\"User saved\"\r\n        body={'Data of user ' + info.name + ' was successfully saved on DataBase'}\r\n      />\r\n      <BannerError\r\n        message=\"Error while saving User's data or retrieving from server\"\r\n        errors={[errors, rolesErrors]}\r\n      />\r\n      <Box m={2}>\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          User details\r\n        </Typography>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={6}>\r\n            <TextField\r\n              required\r\n              name=\"name\"\r\n              label=\"Name\"\r\n              value={info.name}\r\n              fullWidth\r\n              autoComplete=\"name\"\r\n              onChange={handleText('name')}\r\n              error={inputError.name}\r\n              helperText={inputError.name && 'Put a valid name'}\r\n          />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <TextField\r\n              required\r\n              name=\"email\"\r\n              label=\"Email\"\r\n              fullWidth\r\n              autoComplete=\"email\"\r\n              value={info.email}\r\n              onChange={handleText('email')}\r\n              error={inputError.email}\r\n              helperText={inputError.email && 'Invalid email address'}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Select\r\n              multiple\r\n              required\r\n              fullWidth\r\n              label=\"Roles\"\r\n              value={info.roles}\r\n              input={<Input />}\r\n              renderValue={(selected) => {\r\n                if(!selected || !Array.isArray(selected) || !Array.isArray(rolesData)) return '';\r\n                return (rolesData as RoleType[])\r\n                  .filter((role) => (selected as string[]).includes(role.roleId))\r\n                  .map((role) => role.name).join(', ')\r\n              }}\r\n              onChange={handleRolesChange}\r\n              MenuProps={MenuProps}\r\n            >\r\n              {Array.isArray(rolesData) && rolesData.map((role) => (\r\n                <MenuItem key={role.roleId} value={role.roleId}>\r\n                  <Checkbox checked={isRoleSelected(role.roleId)} />\r\n                  <ListItemText primary={role.name} />\r\n                  <ListItemText secondary={role.description} />\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </Grid>\r\n          {\r\n            info.userId !== '_' && (\r\n              <Grid item xs={12}>\r\n                <FormControl className={formClasses.formControl}>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Checkbox\r\n                        checked={changePass}\r\n                        onChange={handleCheckPass}\r\n                        inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                      />\r\n                    }\r\n                    label=\"Edit Password\"\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n            )\r\n          }\r\n          {\r\n            changePass && (\r\n              <>\r\n                <Grid item xs={12} sm={6}>\r\n                  <PasswordInput\r\n                    fieldId={'pass_' + info.userId}\r\n                    onChange={handlePassChange('password')}\r\n                    className={formClasses.formControl}\r\n                    validation=\"rules\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <PasswordInput\r\n                    fieldId={'pass-rep_' + info.userId}\r\n                    onChange={handlePassChange('passwordRepeat')}\r\n                    className={formClasses.formControl}\r\n                    validation=\"repeat\"\r\n                    original={info.password}\r\n                    label=\"Repeat Password\"\r\n                  />\r\n                </Grid>\r\n              </>\r\n            )\r\n          }\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Box display=\"flex\" justifyContent=\"flex-end\">\r\n            <FormControl className={formClasses.formControl}>\r\n              <Button variant=\"contained\" onClick={cancelEdit}>Cancel</Button>\r\n            </FormControl>\r\n            <FormControl className={formClasses.formControl}>\r\n              <Button variant=\"contained\" color=\"primary\" onClick={saveUser}>\r\n                Save\r\n              </Button>\r\n            </FormControl>\r\n          </Box>\r\n        </Grid>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n\r\n"],"sourceRoot":""}