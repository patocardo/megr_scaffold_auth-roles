(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{156:function(e,t,a){"use strict";var n=a(115),r=a(125),c=Object(n.a)((function(e){return Object(r.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},marginedTop:{marginTop:e.spacing(2)}})}));t.a=c},170:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a.n(n),c=a(92),l=a(196),i=a(46);function o(e){var t=e.items,a=e.children,n=e.emptyMessage,o=void 0===n?"There is no data to display":n,d=e.loadingMessage,u=void 0===d?"Data is loading":d;return t?Array.isArray(t)&&0===t.length?r.a.createElement(c.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(i.a,{variant:"h6",gutterBottom:!0},o)):a:r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{display:"flex",justifyContent:"center"},r.a.createElement(l.a,{size:80})),r.a.createElement(c.a,{display:"flex",justifyContent:"center"},r.a.createElement(i.a,{variant:"h6",gutterBottom:!0},u)))}},171:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);function r(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}},172:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(9),r=a(67),c=a(13),l=a(64),i=a(0),o=a.n(i),d=a(192),u=a(193),s=a(194),m=a(195),f=a(117),b=a(118),g=a(119),p=a(197),h=a(148),E=a(18),v=a(63),y=a(47),j=a(34);function O(e,t){var a=e.collection,n=e.modelNames,r=e.getId,i=e.getItemText;function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?" are marked for delete":" has been deleted";return 0===e.length?["There aren't ".concat(n," selected for removal")]:e.length<11?["The following ".concat(n," ").concat(a,":")].concat(Object(l.a)(e)):["".concat(e.length," ").concat(n," ").concat(a)]}if(!a||"CLEAN"===t.type||0===a.length)return Object(c.a)({},e,{ids:[],modal:[],banner:[]});if(!(null===t||void 0===t?void 0:t.payload)||!Array.isArray(t.payload))throw new Error("bad request");var d=a.filter((function(e){return t.payload.includes(r(e))})).map((function(e){return i(e)}));return Object(c.a)({},e,{ids:t.payload,modal:o(d,!0),banner:o(d)})}function C(e){var t=e.resolver,a=e.modelNames,l=Object(r.a)(e,["resolver","modelNames"]),C=Object(i.useState)("inactive"),k=Object(n.a)(C,2),S=k[0],x=k[1],N=Object(i.useReducer)(O,Object(c.a)({ids:[],modal:[],banner:[],modelNames:a},l)),w=Object(n.a)(N,2),F=w[0],P=w[1],A=Object(y.a)(0),D=A.data,I=A.errors,T=A.fetchData;Object(i.useEffect)((function(){"send"===S&&F.ids.length>0&&(x("sending"),T({expression:"mutation {\n        multipleDelete: ".concat(t,'(ids: ["').concat(F.ids.join('", "'),'"])\n      }'),isAuth:!0}))}),[S,F,t,T]),Object(i.useEffect)((function(){D&&D>0&&x("finalized")}),[D]),Object(i.useEffect)((function(){Object(E.c)(I)&&x("error")}),[I]);return{status:S,MultiDelCompo:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{open:"confirm"===S,onClose:function(){return x("inactive")},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(u.a,{id:"alert-dialog-title"},"Do you want to permanently remove ".concat(a,"?")),o.a.createElement(s.a,null,o.a.createElement(m.a,{id:"alert-dialog-description",component:"div"},o.a.createElement(f.a,{dense:!0},F.modal.map((function(e){return o.a.createElement(b.a,{key:Object(j.a)(e,10)},o.a.createElement(g.a,{primary:e}))}))))),o.a.createElement(p.a,null,o.a.createElement(h.a,{onClick:function(){return x("inactive")},color:"secondary",variant:"contained"},"Cancel"),o.a.createElement(h.a,{onClick:function(){return x("send")},variant:"contained",color:"primary",autoFocus:!0},"Confirm delete"))),o.a.createElement(v.a,{severity:"success",isOpen:!!D&&D>0&&"finalized"===S,closeFn:function(){return x("inactive")},title:"".concat(a," successfully deleted"),body:F.banner}),o.a.createElement(v.a,{severity:"error",isOpen:"error"===S,closeFn:function(){return x("inactive")},title:"Error while deleting records of ".concat(a),body:I||"Server error"}))},handleDelete:function(e){P({type:"UPDATE",payload:e}),x("confirm")}}}},174:function(e,t,a){"use strict";a.d(t,"a",(function(){return J}));var n=a(9),r=a(37),c=a(0),l=a.n(c),i=a(3),o=a(115),d=a(125),u=a(8),s=a(227),m=a(228),f=a(229),b=a(238),g=a(244),p=a(147),h=a(46),E=a(245),v=a(121),y=a(122),j=a(230),O=a(231),C=a(232),k=a(239),S=a(225),x=a(233),N=a(180),w=a.n(N),F=a(182),P=a.n(F),A=a(179),D=a.n(A),I=a(181),T=a.n(I),R=a(92),_=Object(o.a)({integer:{textAlign:"right",width:function(e){return e.leftSidePerc+"%"}},decimal:{textAlign:"left"}});function q(e){var t,a,n=e.value,r=e.leftSidePerc,c=_({leftSidePerc:void 0===r?50:r}),i=n.toString().trim();if(Number.isNaN(Number(i)))t=i,a="";else{var o=i.toString().match(/([.,]\d*)$/g);t=parseInt(i).toString(),a=o?o[0]:""}return l.a.createElement(R.a,{display:"flex"},l.a.createElement("div",{className:c.integer},t),l.a.createElement("div",{className:c.decimal},a))}function B(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function M(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,r=e.orderBy,c=e.numSelected,i=e.rowCount,o=e.onRequestSort,d=e.headCells;return l.a.createElement(s.a,null,l.a.createElement(m.a,null,l.a.createElement(f.a,{padding:"checkbox"},l.a.createElement(b.a,{indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:a,inputProps:{"aria-label":"select all desserts"}})),d.map((function(e){return l.a.createElement(f.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&n},l.a.createElement(g.a,{active:r===e.id,direction:r===e.id?n:"asc",onClick:(a=e.id,function(e){o(e,a)})},e.label,r===e.id?l.a.createElement("span",{className:t.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var a})),l.a.createElement(f.a,null,l.a.createElement(D.a,null))))}var z=Object(o.a)((function(e){return Object(d.a)({root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(u.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}})})),W=function(e){var t=z(),a=e.numSelected,n=e.title,c=e.deleteFn,o=e.addFn;return l.a.createElement(p.a,{className:Object(i.a)(t.root,Object(r.a)({},t.highlight,a>0))},a>0?l.a.createElement(h.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},a," selected"):l.a.createElement(h.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},n),a>0?l.a.createElement(E.a,{title:"Delete"},l.a.createElement(v.a,{"aria-label":"delete",onClick:function(){return c()}},l.a.createElement(w.a,null))):l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{title:"Filter list",key:"add"},l.a.createElement(v.a,{"aria-label":"add",onClick:function(){return o()}},l.a.createElement(T.a,null))),l.a.createElement(E.a,{title:"Add element",key:"filter"},l.a.createElement(v.a,{"aria-label":"filter list"},l.a.createElement(P.a,null)))))},H=Object(o.a)((function(e){return Object(d.a)({root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}})}));function J(e){var t=e.rows,a=e.headCells,r=e.title,c=e.editFn,i=void 0===c?null:c,o=e.idName,d=void 0===o?"_id":o,u=e.deleteFn,s=e.addFn,g=H(),p=l.a.useState("asc"),h=Object(n.a)(p,2),E=h[0],N=h[1],w=l.a.useState(""),F=Object(n.a)(w,2),P=F[0],A=F[1],I=l.a.useState([]),T=Object(n.a)(I,2),R=T[0],_=T[1],z=l.a.useState(0),J=Object(n.a)(z,2),L=J[0],U=J[1],$=l.a.useState(!1),G=Object(n.a)($,2),K=G[0],Q=G[1],V=l.a.useState(5),X=Object(n.a)(V,2),Y=X[0],Z=X[1],ee=Y-Math.min(Y,t.length-L*Y);return l.a.createElement("div",{className:g.root},l.a.createElement(y.a,{className:g.paper},l.a.createElement(W,{numSelected:R.length,title:r,deleteFn:function(){return u(R)},addFn:function(){return s()}}),l.a.createElement(j.a,null,l.a.createElement(O.a,{className:g.table,"aria-labelledby":"tableTitle",size:K?"small":"medium","aria-label":"enhanced table"},l.a.createElement(M,{classes:g,numSelected:R.length,order:E,orderBy:P,onSelectAllClick:function(e){if(e.target.checked){var a=t.map((function(e){return e.name.toString()}));_(a)}else _([])},onRequestSort:function(e,t){N(P===t&&"asc"===E?"desc":"asc"),A(t)},rowCount:t.length,headCells:a}),l.a.createElement(C.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(t,function(e,t){return"desc"===e?function(e,a){return B(e,a,t)}:function(e,a){return-B(e,a,t)}}(E,P)).slice(L*Y,L*Y+Y).map((function(e,t){var n,r=(n=e[d],-1!==R.indexOf(n)),c="enhanced-table-checkbox-".concat(t);return l.a.createElement(m.a,{hover:!0,onClick:function(t){return function(e,t){var a=R.indexOf(t),n=[];-1===a?n=n.concat(R,t):0===a?n=n.concat(R.slice(1)):a===R.length-1?n=n.concat(R.slice(0,-1)):a>0&&(n=n.concat(R.slice(0,a),R.slice(a+1))),_(n)}(0,e[d])},role:"checkbox","aria-checked":r,tabIndex:-1,key:e[d],selected:r},l.a.createElement(f.a,{padding:"checkbox",key:e[d]+"_id"},l.a.createElement(b.a,{checked:r,inputProps:{"aria-labelledby":c}})),a.filter((function(e){return!e.hidden})).map((function(t){return t.numeric?l.a.createElement(f.a,{align:"center",key:e[d]+"_"+t.id},l.a.createElement(q,{value:e[t.id].toString()})):l.a.createElement(f.a,{align:"right",key:e[d]+"_"+t.id},e[t.id])})),i&&l.a.createElement(f.a,{align:"center",key:e[d]+"_edit"},l.a.createElement(v.a,{"aria-label":"edit",color:"primary",onClick:function(){return i(e[d])}},l.a.createElement(D.a,null))))})),ee>0&&l.a.createElement(m.a,{style:{height:(K?33:53)*ee}},l.a.createElement(f.a,{colSpan:6}))))),l.a.createElement(k.a,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:Y,page:L,onChangePage:function(e,t){U(t)},onChangeRowsPerPage:function(e){Z(parseInt(e.target.value,10)),U(0)}})),l.a.createElement(S.a,{control:l.a.createElement(x.a,{checked:K,onChange:function(e){Q(e.target.checked)}}),label:"Dense padding"}))}},235:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(13),r=a(67),c=a(9),l=a(0),i=a.n(l),o=a(32),d=a(163),u=a(55),s=a(217),m=a(222),f=a(176),b=a(183),g=a.n(b),p=a(65),h=a(246),E=a(170),v=a(47),y=a(171),j=a(18),O=a(174),C=a(156),k=a(172);function S(e){return'\n    query {\n      roles(search: "'.concat(e,'") {\n        roleId: _id\n        name\n        description\n        resolvers\n      }\n    }\n  ')}var x=[{disablePadding:!1,id:"name",label:"Name",numeric:!1},{disablePadding:!1,id:"description",label:"Description",numeric:!1},{disablePadding:!1,id:"resolversCount",label:"Actions Enabled",numeric:!0}];function N(){var e=Object(l.useState)([]),t=Object(c.a)(e,2),a=t[0],b=t[1],N=Object(l.useState)(""),w=Object(c.a)(N,2),F=w[0],P=w[1],A=Object(h.a)(F,1e3),D=Object(c.a)(A,1)[0],I=Object(v.a)(null),T=I.data,R=I.errors,_=I.fetchData,q=Object(y.a)(T),B=Object(C.a)(),M=Object(k.a)({resolver:"rolesRemove",collection:T||[],getId:function(e){return e.roleId},getItemText:function(e){return"".concat(e.name,"(").concat(e.description,")")},modelNames:"roles"}),z=M.MultiDelCompo,W=M.handleDelete,H=Object(l.useRef)(!1),J=Object(o.f)();return Object(l.useEffect)((function(){H.current||(_({expression:S(""),isAuth:!0}),H.current=!0)}),[_]),Object(l.useEffect)((function(){_({expression:S(D),isAuth:!0})}),[_,D]),Object(l.useEffect)((function(){if(!Object(p.isEqual)(T,q)){var e=null===T?[]:T.map((function(e){var t=e.resolvers,a=Object(r.a)(e,["resolvers"]);return Object(n.a)({},a,{resolversCount:t.length.toString()})}));b(e)}}),[T,q]),i.a.createElement(d.a,null,i.a.createElement(z,null),i.a.createElement(j.a,{message:"Error while fetching records of Roles",errors:[R]}),i.a.createElement(u.a,{container:!0,justify:"flex-end"},i.a.createElement(u.a,{item:!0,xs:12,sm:6,md:4},i.a.createElement(s.a,{variant:"outlined",className:B.formControl},i.a.createElement(m.a,{variant:"outlined",margin:"normal",id:"search",label:"Search by name and description",autoComplete:"search",name:"search",autoFocus:!0,fullWidth:!0,onChange:function(e){P(e.target.value)},value:F,InputProps:{endAdornment:i.a.createElement(f.a,{position:"end"},i.a.createElement(g.a,null))}})))),i.a.createElement(E.a,{items:T},i.a.createElement(O.a,{headCells:x,rows:a||[],title:"Roles",idName:"roleId",editFn:function(e){J.push("/role/"+e)},deleteFn:W,addFn:function(){J.push("/role/_")}})))}}}]);
//# sourceMappingURL=8.e1916676.chunk.js.map